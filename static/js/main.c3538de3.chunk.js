(this["webpackJsonpyalantis-test"]=this["webpackJsonpyalantis-test"]||[]).push([[0],{17:function(e,t,n){e.exports={container:"EmployeesPage_container__1wchm",employees:"EmployeesPage_employees__Q_-ps",listName:"EmployeesPage_listName__2o7zS",subListName:"EmployeesPage_subListName__1REBt"}},28:function(e,t,n){e.exports={nav:"App_nav__1AynI",listItem:"App_listItem__2-vSM"}},29:function(e,t,n){e.exports={container:"EmployeeListItem_container__3uj_7",name:"EmployeeListItem_name__3nWGc",active:"EmployeeListItem_active__TtnqK"}},76:function(e,t,n){"use strict";n.r(t),n.d(t,"saveState",(function(){return te}));var a=n(7),c=n(1),r=n.n(c),s=n(24),i=n.n(s),o=n(23),l=n(15),u=n(42),j=n(46),b=n(6),p=n(28),O=n.n(p),d=n(20),m=n(9),h=n(45),f=n(16),v=[],y="LOAD_POSTS",x="POSTS_LOADED",g="SET_ACTIVE",_="SET_NOT_ACTIVE";function N(e,t){return e.map((function(e,n){return e.id!==t.payload[0].id?e:Object(a.a)(Object(a.a)({},e),t.payload[0])}))}var E=function(){try{var e=localStorage.getItem("appState");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),S="SHOW_LOADER",A="HIDE_LOADER";function w(){return{type:A}}var I={loading:!1},L="SHOW_ERROR",D="HIDE_ERROR";var P={error:""},T=Object(f.combineReducers)({eployees:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:if(0===e.length&&E){var n=t.payload.map((function(e){var t=E.eployees.find((function(t){return t.id===e.id}));return t.isActive&&!e.hasOwnProperty("isActive")?(e.isActive=t.isActive,e):e}));return Object(m.a)(n)}if(e.length&&E){var a=t.payload.map((function(e){var t=E.eployees.find((function(t){return t.id===e.id}));return t.isActive&&!e.hasOwnProperty("isActive")?(e.isActive=t.isActive,e):e}));return Object(m.a)(a)}return[].concat(Object(m.a)(e),Object(m.a)(t.payload));case g:case _:return Object(m.a)(N(Object(m.a)(e),t));default:return e}},loader:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case A:return Object(a.a)(Object(a.a)({},e),{},{loading:!1});default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case D:return Object(a.a)(Object(a.a)({},e),{},{error:""});default:return e}}}),R=n(29),k=n.n(R),C=n(3),H=function(e){var t=e.employee,n=Object(l.b)(),r=Object(c.useState)(t.isActive),s=Object(h.a)(r,2),i=s[0],o=s[1];return Object(C.jsxs)("div",{className:"".concat(k.a.container," ").concat(i?k.a.active:""),children:[Object(C.jsx)("p",{className:k.a.name,children:"".concat(t.lastName," ").concat(t.firstName)}),Object(C.jsxs)("label",{children:[Object(C.jsx)("input",{type:"checkbox",name:"isActive",value:"true",onChange:function(){if(i){var e=Object(a.a)({},t);e.isActive=!1,n({type:_,payload:[e]})}else{var c=Object(a.a)({},t);c.isActive=!0,n({type:g,payload:[c]})}o(!i)},checked:!!i}),Object(C.jsx)("div",{children:"Active"})]})]})},M=n(17),F=n.n(M),W=function(){var e=Object(l.b)();Object(c.useEffect)((function(){e({type:y})}),[]);for(var t=Object(l.c)((function(e){return e.eployees})),n=Object(l.c)((function(e){return e.loader})),r=Object(l.c)((function(e){return e.error})),s=t.filter((function(e){return e.isActive})),i=t.sort((function(e,t){return e.lastName<t.lastName?-1:e.lastName<t.lastName?1:0})),o=Object(m.a)("ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("")),u=o.reduce((function(e,t){return Object(a.a)(Object(a.a)({},e),{},Object(d.a)({},t,[]))}),{}),j=0;j<i.length;j++){var b=i[j],p=b.lastName[0];u[p]=[].concat(Object(m.a)(u[p]),[b])}for(var O=Object.entries(u),h=new Date,f=function(e){return e.reduce((function(e,t,n){return Object(a.a)(Object(a.a)({},e),{},Object(d.a)({},n,{monthName:t,employees:[]}))}),{})}(Array.from({length:12},(function(e,t){return new Date(0,t+1,0).toLocaleDateString("en",{month:"long"})}))),v=0;v<s.length;v++){var x=new Date(s[v].dob).getMonth();f[x].employees.push(s[v]),f[x].employees.sort((function(e,t){return e.dob>t.dob?1:e.dob<t.dob?-1:0}))}var g=Object.entries(f),_=[].concat(Object(m.a)(g.slice(h.getMonth())),Object(m.a)(g.slice(0,h.getMonth())));return Object(C.jsxs)("div",{className:F.a.container,children:[n.loading?Object(C.jsx)("p",{children:"Loading..."}):null,r.error?Object(C.jsxs)("p",{children:["`$",r.error,"`"]}):null,Object(C.jsxs)("div",{className:F.a.employees,children:[Object(C.jsx)("p",{className:F.a.listName,children:"Employees"}),O.map((function(e){return Object(C.jsxs)("div",{children:[Object(C.jsx)("p",{className:F.a.subListName,children:e[0]}),0===e[1].length?"- - - -":e[1].map((function(e){return Object(C.jsx)(H,{employee:e},e.id)}))]},e[0])}))]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("p",{className:F.a.listName,children:"Employees birthday"}),_.map((function(e){return 0===e[1].employees.length?null:Object(C.jsxs)("div",{children:[Object(C.jsx)("p",{className:F.a.subListName,children:e[1].monthName}),e[1].employees.map((function(e){return Object(C.jsx)("div",{children:"".concat(e.lastName," ").concat(e.firstName," ").concat(new Date(e.dob).toLocaleDateString()," ")},e.id)}))]},e[1].monthName)}))]})]})};var J=function(){var e=Object(b.f)();return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(b.b,{history:e,children:[Object(C.jsx)("nav",{children:Object(C.jsxs)("ul",{className:O.a.nav,children:[Object(C.jsx)("li",{className:O.a.listItem,children:Object(C.jsx)(o.b,{to:"/",children:"Home"})}),Object(C.jsx)("li",{className:O.a.listItem,children:Object(C.jsx)(o.b,{to:"/employees",children:"employees"})})]})}),Object(C.jsxs)(b.c,{children:[Object(C.jsx)(b.a,{exact:!0,path:"/",children:"Home Page"}),Object(C.jsx)(b.a,{exact:!0,path:"/employees",children:Object(C.jsx)(W,{})})]})]})})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},V=n(43),G=n(18),K=n.n(G),Q=n(44),q=n.n(Q),z=n(14),U=K.a.mark(Y),X=K.a.mark(Z);function Y(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.d)(y,Z);case 2:case"end":return e.stop()}}),U)}function Z(e){var t,n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(z.c)({type:S});case 3:return e.next=5,Object(z.a)($,"https://yalantis-react-school-api.yalantis.com/api/task0/users");case 5:return t=e.sent,e.next=8,Object(z.c)({type:x,payload:t});case 8:return e.next=10,Object(z.c)(w());case 10:e.next=25;break;case 12:return e.prev=12,e.t0=e.catch(0),n=[],e.next=17,Object(z.c)({type:x,payload:n});case 17:return e.next=19,Object(z.c)({type:L,payload:e.t0.message});case 19:return e.next=21,Object(z.b)(3e3);case 21:return e.next=23,Object(z.c)({type:D,payload:""});case 23:return e.next=25,Object(z.c)(w());case 25:case"end":return e.stop()}}),X,null,[[0,12]])}var $=function(){var e=Object(V.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",new Error("Wrong search params!"));case 2:return e.next=4,q.a.get(t).then((function(e){if(e.data.Error)throw Error(e.data.Error);return e.data.Error?{results:[]}:e.data}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=Object(j.a)(),te=function(e){try{var t=JSON.stringify(e);localStorage.removeItem("appState"),localStorage.setItem("appState",t)}catch(n){console.log(n)}},ne=Object(f.createStore)(T,Object(u.composeWithDevTools)(Object(f.applyMiddleware)(ee)));ee.run(Y),ne.subscribe((function(){te(Object(a.a)({},ne.getState()))})),i.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(l.a,{store:ne,children:Object(C.jsx)(o.a,{children:Object(C.jsx)(J,{})})})}),document.getElementById("root")),B()}},[[76,1,2]]]);
//# sourceMappingURL=main.c3538de3.chunk.js.map